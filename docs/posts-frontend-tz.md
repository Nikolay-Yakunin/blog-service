# Техническое задание для фронтендера: Сущность «Посты» (posts)

---

## 1. Сущность "Пост" (Post)

### Поля объекта Post:

- `id` (number): уникальный идентификатор поста
- `title` (string): заголовок поста
- `slug` (string): человекочитаемый идентификатор (генерируется из title)
- `description` (string): краткое описание поста
- `raw_content` (string): исходный markdown-контент
- `html_content` (string): отрендеренный HTML-контент (генерируется на бэке)
- `status` (string): статус поста (`draft`, `published`, `archived`)
- `tags` (array of string): список тегов
- `view_count` (number): количество просмотров
- `created_at` (string, ISO8601): дата создания
- `updated_at` (string, ISO8601): дата последнего обновления
- `published_at` (string, ISO8601, nullable): дата публикации (если опубликован)
- `author_id` (number): id автора
- `comments` (array, опционально): комментарии к посту (может отсутствовать в некоторых ответах)

---

## 2. Эндпоинты API

### Получить список постов

- **GET** `/api/v1/posts?offset=0&limit=10`
- Параметры: `offset` (смещение), `limit` (кол-во)
- Ответ: массив объектов Post

### Получить пост по ID

- **GET** `/api/v1/posts/{id}`
- Ответ: объект Post

### Получить пост по slug

- **GET** `/api/v1/posts/slug/{slug}`
- Ответ: объект Post

### Создать пост

- **POST** `/api/v1/posts`
- Требует JWT авторизации
- Тело запроса: объект Post (без id, slug, html_content, view_count, created_at, updated_at, published_at)
- Ответ: созданный объект Post

### Обновить пост

- **PUT** `/api/v1/posts/{id}`
- Требует JWT авторизации
- Тело запроса: объект Post (id обязателен)
- Ответ: обновлённый объект Post

### Удалить пост

- **DELETE** `/api/v1/posts/{id}`
- Требует JWT авторизации
- Ответ: 204 No Content

### Получить посты по тегу

- **GET** `/api/v1/posts/tag/{tag}`
- Ответ: массив объектов Post

### Получить посты автора

- **GET** `/api/v1/posts/author`
- Требует JWT авторизации
- Ответ: массив объектов Post

### Получить посты за период

- **GET** `/api/v1/posts/published?from=2025-01-01T00:00:00Z&to=2025-01-31T23:59:59Z`
- Ответ: массив объектов Post

---

## 3. Особенности и требования

- Для создания/редактирования/удаления поста требуется авторизация (JWT).
- Только автор поста или админ может редактировать/удалять пост.
- При получении поста увеличивается счетчик просмотров (view_count).
- Контент поста хранится в двух видах: markdown (`raw_content`) и HTML (`html_content`). HTML формируется на бэке.
- Статусы поста: `draft` (черновик), `published` (опубликован), `archived` (архив).
- Теги — массив строк.
- Для пагинации используются параметры `offset` и `limit`.
- Ошибки возвращаются в формате:
  ```json
  {
    "code": 400,
    "message": "Неверный формат данных",
    "details": "Поле 'title' не может быть пустым"
  }
  ```

---

## 4. UI/UX рекомендации

- Форма создания/редактирования поста должна поддерживать markdown-редактор.
- Для отображения поста используйте поле `html_content`.
- Для фильтрации по тегам и поиску по заголовку реализуйте соответствующие UI-компоненты.
- Для списка постов реализуйте пагинацию.
- Для статусов поста используйте визуальные индикаторы (черновик, опубликован, архив).
- Для авторизованных пользователей (автор/админ) показывайте кнопки "Редактировать" и "Удалить".
- Для неавторизованных пользователей — только просмотр опубликованных постов.

---

Если нужны примеры запросов/ответов или детализация по какому-то из эндпоинтов — дай знать!
