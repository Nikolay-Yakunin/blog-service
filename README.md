# Blog Service
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

## Цель проекта
Создать масштабируемый и модульный блог-сервис, обеспечивающий:

- Редактирование и форматирование контента с помощью Markdown.
- Интерактивность постов с возможностью голосования и оценки.
- Надёжную аутентификацию через популярные OAuth-провайдеры.
- Управление комментариями с иерархической структурой.
- Дополнительные функции, такие как поиск, уведомления и административная панель.
- Лёгкую контейнеризацию, автоматизированную сборку и мониторинг.

# Предметная область
Личный блог, посты сахраняемые в формате md, средства аутентификации с помощью провайдеров, комментарии, быстрый поиск по постам (названиям, контенту постов, комментариям, веткам комментариев), уведомления и админ панель с метриками, аналитикой и инструментами модерации, администрирования.

# Бизнес процессы
- Посты
    - Создание, редактирование, удаление, теги, отложеная публикация, счетчик просмотров, оценка, интерактивности (голосование или сбор обратной связи)
- Пользователи
    - ... , аутентификация через провайдера, редактирование информации профиля, верификация для повышения доступа (не верефицированные пользователи, могут только просматривать посты)
- Комментарии
    - ... , ответ на комментарий (ветвление, thread), верификация доступа, цензура по черному списку (слова с которыми комментарий не может быть создан, например "***")
- Быстрый поиск
    - ... , поиск по тегам, поиск по заголовкам, поиск по контенту, поиск по верхнему уровню комментариев, поиск по веткам комментариев
- Уведомления
    - ... , уведомления и оповещения внутри сервиса (я хочу купить домен, но у меня денег нет, а stmp не зарегать без домена)
- Метрики и аналитика
    - ... , анализ посещаемости, просмотров, удержания на посте (авторизованных, неавторизованных, верифицированных пользователей), количества аутентификаций (по провайдерам), количества новых пользователей (авторизованных), количества комментариев (для верифицированных пользователей)

## Сборка
- Склонируйте репозиторий
по *http*
```
git clone https://gitlab.com/Nikolay-Yakunin/blog-service.git
```
или по *ssh*
```
git clone git@gitlab.com:Nikolay-Yakunin/blog-service.git
```

PS: для генерации ключа
```
ssh-keygen -t rsa
cat (имя файла с ключем | по дефолту /root/.ssh/id_rsa)
```
Скопируйте оутпут и добавьте в свой профиль Gitlab/Github

# Requerments
Перед началом сборки проекта, убедитесь, что у вас присутствуют все необходимые зависимости

- **Go**: 1.24.1
- **Make**: для локальной сборки проекта
- **Docker** and **Docker-compose**: для сборки контейнера
- **Postgress**: 16.2 база данных

# Сборка с помощью Make
```
make
```
На выходе у вас будет исполняемый файл с именем **main** или **main.exe**, в зависимости от платформы

## Структура проекта

- **cmd/**: Точка входа приложения.
- **config/**: Конфигурационные файлы.
- **internal/**: Основная бизнес-логика (модули: posts, users, comments, search, notifications, admin).
- **pkg/**: Вспомогательные утилиты, middleware и библиотеки.
- **docs/**: Документация API (Swagger).

## Команды Makefile

- **make build**: Сборка приложения.
- **make test**: Запуск тестов с генерацией отчёта покрытия.
- **make docker-up**: Запуск приложения через docker-compose. (Пока не актуально)
- **make clean**: Очистка сгенерированных файлов.
